
<div class="chat-history" *ngIf="chatService.session">
  <div class="chat-scrollable" #scrollBox>
    <div *ngFor="let message of chatService.session.messages"
         class="message"
         [class.message-local]="message.owner.type === 'local'"
         [class.message-remote]="message.owner.type === 'remote'">
      <div class="message-avatar" *ngIf="message.owner.type === 'remote'"></div>
      <div class="message-text" [innerHTML]="message.message | linkParsing"></div>
      <div class="clearfix"></div>
      <div class="message-attachment" *ngIf="message.attachment">
        <a href="https://goo.gl/maps/bX6RGJ6CFAtzKh1x8" target="_blank" *ngIf="message.attachment === 'map'">
          <img src="assets/img/map.jpg" >
        </a>
      </div>
    </div>

    <div class="chat-is-typing" [class.hide]="! chatService.session.remoteParticipant.isTyping">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>
</div>
